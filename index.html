<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>



</head>

<body>

    <div class="temp-reading_container">
        <div class="circle-temp_container">
            <div class="two-columns-temp">
                <div class="circle-align">
                    <div class="circle-temp-name">Obsidian Tower</div>
                    <div class="circle-temp-date">05/10/2023</div>

                    <div class="circle-container">
                        <div class="thermo-circle"></div>
                        <div class='thermo-inner-circle'></div>
                        <div class="thermo-motion" data-title="Motion Detected">
                            <?xml version="1.0" encoding="UTF-8"?>
                            <svg class="temp-icons">
                                <use href="/sprite-sheet.svg#new_green-motion"></use>
                            </svg>
                            <svg class="moving-fan">
                                <use href="/sprite-sheet.svg#fan-is-on"></use>
                            </svg>
                        </div>
                        <div class="thermo-stats">38.8<span>Â°F</span></div>
                        <div class="thermo-humid">40% Humidity</div>
                        <div class="thermo-buttons">
                            <div class="thermo-minus">
                                <?xml version="1.0" encoding="UTF-8"?>
                                <svg class="temp-icons">
                                    <use href="/sprite-sheet.svg#new_minus"></use>
                                </svg>
                            </div>
                            <div class="thermo-plus">
                                <?xml version="1.0" encoding="UTF-8"?>

                                <svg class="temp-icons">
                                    <use href="/sprite-sheet.svg#new_add"></use>
                                </svg>
                            </div>
                        </div>



                        <div class="thermo-phase-container">
                            <div class="thermo-phase-btn">
                                <?xml version="1.0" encoding="UTF-8"?>
                                <svg class="temp-icons">
                                    <use href="/sprite-sheet.svg#new_fire"></use>
                                </svg>

                                 <!-- <svg class="temp-icons">
                                    <use href="/sprite-sheet.svg#new_snowflake"></use> -->
                                </svg>
                            </div>
                            <div class="thermo-phase-type">Heat Phase 1</div>
                        </div>

                        <div class="red-triangle-pointer"></div>
                      
                    </div>
                </div>

                <div class="circle-temp-slider">
                    <img class="temp-bar" title="bar" src="/images/new_thermo-bar.svg">
                  
                    
                     
                        </div>
   <!------------------------ THUMB SLIDER     -->
                        <div class="wrapit">
                          <div class="slider-container">
                           
                            <svg id="slider" height="400" width="150" viewBox="-20 0 190 250">
                              <path id="curve" stroke="gray" stroke-width="4" fill="none" />

                              <circle id="thumb" stroke="#fff" fill="#fff" r="15" />
                              <text id="numThumb" x="61.09375" y="148.75" text-anchor="middle" alignment-baseline="central">5</text>
                              
                              <circle id="thumb2" stroke="#fff" fill="#fff" r="15" />
                              <text id="numThumb2" x="61.09375" y="148.75" text-anchor="middle" alignment-baseline="central">5</text>
                            </svg>
                          </div>
                        </div>
       
            </div>

   
        <div>
          <input id="range" type="range" min="-50" max="150">
          <input id="range2" type="range" min="-50" max="150">
         </div>
        </div>
       
    


        <div class="data-temp_container">

            <div class="data-temp-top-bar">

                <div class="auto-box">

                    <div class="select_wrap">
                        <ul class="default_option">
                            <li>
                                <div class="auto-box">
                                    <div>
                                        <svg class="snow-fire-icons">
                                            <use href="/sprite-sheet.svg#new_fire"></use>
                                        </svg>
                                    </div>
                
                                    <div>
                                        <svg class="snow-fire-icons">
                                            <use href="/sprite-sheet.svg#new_snowflake"></use>
                                        </svg>
                                    </div>
                                    <div class="autoSelect">Auto</div>
                                </div>
                            </li>
                        </ul>
                        <ul class="select_ul">
                            <li>
                                <div class="option pizza">
                                    <svg class="snow-fire-icons">
                                        <use href="/sprite-sheet.svg#new_fire"></use>
                                    </svg>
                                  <p class="autoselect">Heat</p>
                                </div>
                            </li>
                            <li>
                                <div class="option burger">
                                    <svg class="snow-fire-icons">
                                        <use href="/sprite-sheet.svg#new_snowflake"></use>
                                    </svg>
                                  <p class="autoselect">Cool</p>
                                </div>  
                            </li>
                            <li>
                                <div class="option ice">
                                    <div class="auto-box">
                                        <div>
                                            <svg class="snow-fire-icons">
                                                <use href="/sprite-sheet.svg#new_fire"></use>
                                            </svg>
                                        </div>
                    
                                        <div>
                                            <svg class="snow-fire-icons">
                                                <use href="/sprite-sheet.svg#new_snowflake"></use>
                                            </svg>
                                        </div>
                                        <div class="autoselect">Auto</div>
                                    </div>
                                </div>  
                            </li>
                            <li>
                                <div class="option ice">
                                    <svg class="snow-fire-icons">
                                        <use href="/sprite-sheet.svg#power-on"></use>
                                    </svg>
                                  <p class="autoselect">Off</p>
                                </div>  
                            </li>
                            
                        </ul>
                    </div>
                    
                  </div>


                <div class="toggle-bar">
               
                <div class="menu-container">
 
                    <nav>
                      <ul class="menu">
                        <li class="dropdown dropdown-1 option-container">
                            <svg class="option-icons">
                                <use href="/sprite-sheet.svg#new_fan"></use>
                            </svg>
                          <ul class="dropdown_menu dropdown_menu-1">
                            <li class="dropdown_item-1">Off</li>
                            <li class="dropdown_item-fan">20m</li>
                            <li class="dropdown_item-fan">1hr</li>
                              <li class="dropdown_item-fan curveit">4hr</li>
                          </ul>
                        </li>
                    </nav>
                    </div>
                    <div class="menu-container">
 
                        <nav>
                          <ul class="menu">
                            <li class="dropdown dropdown-2 option-container">
                                <svg class="option-icons2">
                                    <use href="/sprite-sheet.svg#new_blue-motion"></use>
                                </svg>
                              <ul class="dropdown_menu dropdown_menu-1">
                                <li class="dropdown_item-2">Off</li>
                                <li class="dropdown_item-motion">20m</li>
                                <li class="dropdown_item-motion">1hr</li>
                                  <li class="dropdown_item-motion curveit">4hr</li>
                              </ul>
                            </li>
                        </nav>
                        </div>        
            </div>
            


            </div>

            <div class="occupied-tab">
                <button class="tab-btns link hover-underline-animation activeAnimate" onclick="openSelect('occupied')" data-selection="occupied">Occupied</button>
                <button class="tab-btns link hover-underline-animation" onclick="openSelect('unoccupied')" data-selection="unoccupied">Unoccupied</button>
              </div>

            <div id="occupied" class="selection">
                <div class="all-box-container">
                    <div class="thermo-box-container">
                       
                        <div class="thermo-box-above">
                            <div>Above</div>
                            <input id="valueAbove" type="number" value="42" class="below-temp-set"></input>
                        </div>
                        
                    </div>
                    <div class="thermo-box-container">
                       
                        <div class="thermo-box-below">
                            <div>Below</div>
                            <input id="valueBelow" type="number" value="72" class="below-temp-set"></input>
                        </div>   
                    </div>
                </div>
                <div class="bottom-container"> <button class="saveBtn">SAVE</button></div>
               
            </div>




            <div id="unoccupied" class="selection" style="display:none">
                <div class="all-box-container">
                    <div class="thermo-box-container">
                       
                        <div class="thermo-box-above">
                            <div>Above</div>
                            <input type="number" value="22" class="below-temp-set"></div>
                        </div>                     
                  
                    <div class="thermo-box-container">
                       
                        <div class="thermo-box-below">
                            <div>Below</div>
                            <input type="number" value="89" class="below-temp-set"></div>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
        </div> 
        <div id="value" ></div>
        <div id="value2"></div>    
       
            <script>
       
     
       function openSelect(selection) {
                var i;
                var x = document.getElementsByClassName("selection");
                for (i = 0; i < x.length; i++) {
                  x[i].style.display = "none";
                }
                document.getElementById(selection).style.display = "block";
              
                var buttons = document.getElementsByClassName("tab-btns");
                for (i = 0; i < buttons.length; i++) {
                  buttons[i].classList.remove("activeAnimate");
                }
                document.querySelector("button[data-selection='" + selection + "']").classList.add("activeAnimate");
              }
                     
              $(document).ready(function() {
                  $('.dropdown-toggle').dropdown();
              });
              
              $(".default_option").click(function(){
                $(this).parent().toggleClass("active");
              })
              
              $(".select_ul li").click(function(){
                var currentele = $(this).html();
                $(".default_option li").html(currentele);
                $(this).parents(".select_wrap").removeClass("active");
              })

              $(document).ready(function() {
  $(".dropdown_item-fan").click(function() {
    $(".option-icons").removeClass("active");
    $(this).closest(".dropdown-1").find(".option-icons").addClass("active");
  });

  $(".dropdown_item-1").click(function() {
    $(".option-icons").removeClass("active");
  });
});

$(document).ready(function() {
  $(".dropdown_item-motion").click(function() {
    $(".option-icons2").removeClass("active");
    $(this).closest(".dropdown-2").find(".option-icons2").addClass("active");
  });

  $(".dropdown_item-2").click(function() {
    $(".option-icons2").removeClass("active");
  });
});



// SLIDER 
const curve = {
  x: 0,
  y: 0,
  cpx: 125,
  cpy: 175,
  endx: 0,
  endy: 350 };




let curveEl = document.getElementById('curve');
let thumbEl = document.getElementById('thumb');
let thumbE2 = document.getElementById('thumb2');
let numberE1 = document.getElementById('numThumb');
let numberE2 = document.getElementById('numThumb2')


// get the XY at the specified percentage along the curve
const getQuadraticBezierXYatPercent = (curve, percent) => {
  let x = Math.pow(1 - percent, 2) * curve.x + 2 * (1 - percent) * percent *
  curve.cpx + Math.pow(percent, 2) * curve.endx;
  let y = Math.pow(1 - percent, 2) * curve.y + 2 * (1 - percent) * percent *
  curve.cpy + Math.pow(percent, 2) * curve.endy;
  return { x, y };


};


const drawCurve = () => {
  curveEl.setAttribute(
  'd',
  `M${curve.x},${curve.y} Q${curve.cpx},${curve.cpy} ${curve.endx},${curve.endy}`);
};


const drawThumb = (percent, thumbElement) => {
  let pos = getQuadraticBezierXYatPercent(curve, percent);
  thumbElement.setAttribute('cx', pos.x);
  thumbElement.setAttribute('cy', pos.y);
  console.log('Thumb Position:', pos.x, pos.y);
};

const drawNumb = (percent, numberElement)=> {
  let posNum = getQuadraticBezierXYatPercent(curve, percent);
  numberElement.setAttribute('x', posNum.x);
  numberElement.setAttribute('y', posNum.y);
}


let _percent = 0.5;

const moveNumber = e => {
  let min = Number(document.getElementById('range').getAttribute('min'));
  let max = Number(document.getElementById('range').getAttribute('max'));
  let inputRange = max - min;
  let percent = 1 - ((e.target.value - min) / inputRange);
  drawNumb(percent, numberE1);
}

const moveThumb = e => {
  let min = Number(document.getElementById('range').getAttribute('min'));
  let max = Number(document.getElementById('range').getAttribute('max'));
  let inputRange = max - min;
  let percent = 1 - ((e.target.value - min) / inputRange);
  drawThumb(percent, thumbEl);
 
// console.log("thumb: " , percent);

};
const moveNumber2 = e => {
    let min2 = Number(document.getElementById('range2').getAttribute('min'));
  let max2 = Number(document.getElementById('range2').getAttribute('max'));
  let inputRange2 = max2 - min2;
  let percent2 = 1 - ((e.target.value - min2) / inputRange2);
  drawNumb(percent2, numberE2);
}

const moveThumb2 = e =>{
    let min2 = Number(document.getElementById('range2').getAttribute('min'));
  let max2 = Number(document.getElementById('range2').getAttribute('max'));
  let inputRange2 = max2 - min2;
  let percent2 = 1 - ((e.target.value - min2) / inputRange2);
  drawThumb(percent2, thumbE2);
  // console.log("thumb2: " , percent2);
  // console.log(percent2, inputRange2);

}


const rangeEl = document.getElementById('range');
let rangeE2 = document.getElementById('range2');

rangeEl.value = _percent * 100;
rangeEl.addEventListener('input', e => moveThumb(e, thumbEl));
rangeEl.addEventListener('input', e => moveNumber(e, numberE1 ))

rangeE2.value = _percent * 100;
rangeE2.addEventListener('input', e => moveThumb2(e, thumbE2));
rangeE2.addEventListener('input', e => moveNumber2(e, numberE2));
// init
drawCurve();
drawThumb(_percent, thumbEl);
drawThumb(_percent, thumbE2);
drawNumb(_percent, numberE1);
drawNumb(_percent, numberE2);






   
// const rangeInput2 = document.getElementById('range2');

//   const valueDiv = document.getElementById('value');
//   const valueAboveInput = document.getElementById('valueAbove');


//   rangeEl.addEventListener('input', updateValue);
//   valueAboveInput.addEventListener('input', updateSlider);
  
//   function updateValue() {
//     valueDiv.textContent = rangeEl.value;
//     valueAboveInput.value = rangeEl.value;

//   }
//   function updateSlider() {
//     rangeEl.value = valueAboveInput.value;
//     updateValue();
//   }
//   updateValue();
  const rangeInput2 = document.getElementById('range2');
const valueDiv = document.getElementById('value');
const valueAbove = document.getElementById('valueAbove');
const numThumbValue2 = document.getElementById('numThumb2')

rangeInput2.addEventListener('input', updateValue);
function updateValue() {
  numThumbValue2.textContent = rangeInput2.value;
  valueDiv.textContent = rangeInput2.value;
  valueAbove.value = rangeInput2.value;
}
updateValue();





const rangeInput = document.getElementById('range');
const valueDiv2 = document.getElementById('value2');
const valueBelow = document.getElementById('valueBelow');
const numThumbValue = document.getElementById('numThumb')

rangeInput.addEventListener('input', updateValue2);
function updateValue2() {
  numThumbValue.textContent = rangeInput.value;
  valueDiv2.textContent = rangeInput.value;
  valueBelow.value = rangeInput.value;
}
updateValue2();


 </script>





</body>

</html>
